patch:

  menu/page_size: 10                  # 候选项数

  punctuator:
    full_shape:
      __include: symbols.custom:/punctuator/full_shape  # 从 symbols.custom.yaml 导入配置
    half_shape:
      __include: symbols.custom:/punctuator/half_shape  # 从 symbols.custom.yaml 导入配置
    symbols:
      __include: symbols.custom:/punctuator/symbols     # 从 symbols.custom.yaml 导入配置


  # 添加自定义的 lua processors
  'engine/processors/@before 1':        # 「符号配对」仅在「以词定字」之后执行，否则无法生效
    lua_processor@*pairs                    # 符号配对：自动补全配对的符号，并把光标左移到符号对内部
  'engine/processors/@before 2':        # 放最后不生效，那就继续往前堆吧
    lua_processor@*slash                    # 连续斜杠：在候选项中交替切换

  # 添加自定义的 lua filter
  engine/filters/+:
    - lua_filter@*english_desc_filter    # 英文单词简单释义

  # 万象语法模型，用于长句精确匹配
  # https://github.com/amzxyz/RIME-LMDG
  # 教程： https://www.saraba1st.com/2b/thread-2210738-1-1.html
  grammar:
    language: amz-v3n2m1-zh-hans
    collocation_max_length: 5
    collocation_min_length: 2
  translator/contextual_suggestions: true
  translator/max_homophones: 7
  translator/max_homographs: 7
